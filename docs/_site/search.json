[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Posts",
    "section": "",
    "text": "Date\n\n\nTitle\n\n\nAuthor\n\n\n\n\n\n\nSep 30, 2022\n\n\nExplore data\n\n\nRenato Hermoza\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "nbs/30092022_explore-data.html",
    "href": "nbs/30092022_explore-data.html",
    "title": "Explore data",
    "section": "",
    "text": "Code\npath = Path('../../output')\ncsv_files = L(path.glob('*.csv')).filter(lambda o: os.stat(o).st_size>0)\npat_store = re.compile('(.+)\\_\\d+')\npat_date = re.compile('.+\\_(\\d+)')\ndf = (\n    pd.concat([pd.read_csv(o).assign(store=pat_store.match(o.stem)[1], date=pat_date.match(o.stem)[1])\n               for o in csv_files])\n    .pipe(lambda df: df.assign(\n        name=df.name.str.lower(),\n        sku=df.id.where(df.sku.isna(), df.sku).astype(int),\n        date=pd.to_datetime(df.date)\n    ))\n    .drop('id', axis=1)\n)\ndf.sample(3)\n\n\n\n\n\nData table\n  \n    \n      \n      brand\n      uri\n      name\n      price\n      category\n      store\n      date\n      sku\n    \n  \n  \n    \n      2082\n      Gen√©rico\n      https://www.metro.pe/trucha-deshuesada-x-kg-2-2/p\n      trucha deshuesada x kg\n      29.9\n      https://www.metro.pe/carnes-aves-y-pescados/pe...\n      metro\n      2022-11-21\n      33555\n    \n    \n      5757\n      Cuisine & Co\n      https://www.metro.pe/sal-de-maras-para-cocina-...\n      sal de maras para cocina cuisine & co 500g\n      10.5\n      https://www.metro.pe/abarrotes/condimentos-vin...\n      metro\n      2022-09-05\n      956309\n    \n    \n      7584\n      CLEMENTONI\n      https://www.plazavea.com.pe/amigos-divertidos-...\n      amigos divertidos para el agua clementoni 17444\n      119.0\n      https://www.plazavea.com.pe/bebe-e-infantil\n      plaza_vea\n      2022-09-12\n      10635126\n    \n  \n\n\n\n\n\n\nCode\nfig,ax = plt.subplots(figsize=(12,5))\nfor n,d in df.loc[df.name.isin(names)].assign(name=lambda d: d.name+' ('+d.store+')').groupby('name'):\n    d.plot(x='date', y='price', label=n, ax=ax)\nax.legend(bbox_to_anchor=(0.5,-0.3));\n\n\n\n\nPollo\n\n\n\n\n\n\n\nCode\nfig,ax = plt.subplots(figsize=(12,5))\nfor n,d in df.loc[df.name.isin(names)].assign(name=lambda d: d.name+' ('+d.store+')').groupby('name'):\n    d.plot(x='date', y='price', label=n, ax=ax)\nax.legend(bbox_to_anchor=(0.5,-0.3));\n\n\n\n\nPalta\n\n\n\n\n\n\n\nCode\nfig,ax = plt.subplots(figsize=(12,5))\nfor n,d in df.loc[df.name.isin(names)].assign(name=lambda d: d.name+' ('+d.store+')').groupby('name'):\n    d.plot(x='date', y='price', label=n, ax=ax)\nax.legend(bbox_to_anchor=(0.5,-0.3));\n\n\n\n\nAceite vegeta"
  }
]